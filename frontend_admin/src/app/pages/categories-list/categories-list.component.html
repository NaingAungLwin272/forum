<div class="language">
  <div nz-row nzJustify="end" nzAlign="middle" class="create-dp">
    <div nz-col>
      <button nz-button nzType="primary" (click)="createCategory('language')" class="create-category">
        <span nz-icon nzType="plus-circle"></span>
        Create Language
      </button>
    </div>
  </div>
  <nz-card class="user-list" fxLayout="column">
    <nz-table #languageTable nzBordered [nzData]="languageData" nzTableLayout="fixed" [nzShowPagination]="false">
      <thead>
        <tr>
          <th>Language Name</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let data of languageTable.data">
          <ng-container *ngIf="data._id !== clickedId; else editTemplate">
            <td>{{ data.name }}</td>
            <td>
              <a (click)="startEdit(data._id)">Edit</a>
              <nz-divider nzType="vertical"></nz-divider>
              <a nz-popconfirm nzPopconfirmTitle="Are you sure to delete?"
                (nzOnConfirm)="confirmDelete(data._id,'language')" (nzOnCancel)="cancel()">Delete</a>
            </td>
          </ng-container>
          <ng-template #editTemplate>
            <td>
              <form [formGroup]="categoryEditForm" nz-form enctype="multipart/form-data">
                <nz-form-control [nzSpan]="15">
                  <input type="text" nz-input formControlName="name" nzRequired />
                </nz-form-control>
              </form>
            </td>
            <td>
              <a nz-popconfirm nz-button nzType="link" nzPopconfirmTitle="Are you sure to update?"
                [disabled]="categoryEditForm.invalid" (nzOnConfirm)="saveEdit(data._id)" (nzOnCancel)="cancelEdit()"
                class="save">Save</a>
              <a (click)="cancelEdit()">Cancel</a>
            </td>
          </ng-template>
        </tr>
      </tbody>
    </nz-table>
    <div class="pagination-wrapper">
      <nz-pagination [nzPageIndex]="pageIndexLanguage" [nzTotal]="languageCount" [nzPageSize]="pageSize"
        (nzPageIndexChange)="pageIndexChanged($event,'language')" nzShowQuickJumper>
      </nz-pagination>
    </div>
  </nz-card>
</div>
<nz-divider></nz-divider>
<div class="tag">
  <div nz-row nzJustify="end" nzAlign="middle" class="create-dp">
    <div nz-col>
      <button nz-button nzType="primary" (click)="createCategory('tag')" class="create-category">
        <span nz-icon nzType="plus-circle"></span>
        Create Tag
      </button>
    </div>
  </div>
  <nz-card class="user-list">
    <nz-table #tagTable nzBordered [nzData]="tagData" nzTableLayout="fixed" [nzShowPagination]="false">
      <thead>
        <tr>
          <th>Tag Name</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let data of tagTable.data">
          <ng-container *ngIf="data._id !== clickedId; else editTemplate">
            <td>{{ data.name }}</td>
            <td>
              <a (click)="startEditTag(data._id)">Edit</a>
              <nz-divider nzType="vertical"></nz-divider>
              <a nz-popconfirm nzPopconfirmTitle="Are you sure to delete?" (nzOnConfirm)="confirmDelete(data._id,'tag')"
                (nzOnCancel)="cancel()">Delete</a>
            </td>
          </ng-container>
          <ng-template #editTemplate>
            <td>
              <form [formGroup]="categoryEditForm" nz-form enctype="multipart/form-data">
                <nz-form-control [nzSpan]="15">
                  <input type="text" nz-input formControlName="name" />
                </nz-form-control>
              </form>
            </td>
            <td>
              <a nz-popconfirm nz-button nzType="link" nzPopconfirmTitle="Are you sure to update?"
                [disabled]="categoryEditForm.invalid" (nzOnConfirm)="saveEdit(data._id)" (nzOnCancel)="cancelEdit()"
                class="save">Save</a>
              <a (click)="cancelEdit()">Cancel</a>
            </td>
          </ng-template>
        </tr>
      </tbody>
    </nz-table>
    <div class="pagination-wrapper">
      <nz-pagination [nzPageIndex]="pageIndexTag" [nzTotal]="tagCount" [nzPageSize]="pageSize"
        (nzPageIndexChange)="pageIndexChanged($event, 'tag')" nzShowQuickJumper>
      </nz-pagination>
    </div>
  </nz-card>
</div>
